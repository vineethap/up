<!-- select employee -->

<div *ngIf="current_stage==1" class="page-layout fullwidth recap_section" >
  <div class="row" fxLayout="row" fxLayoutAlign="start none" fxLayoutWrap>
    <div class="recap_employee_selection" fxFlex="100" >
      <h1  fxLayoutAlign="center start">Employee Selection</h1>
      <div class="recap_form">
          <div  fxFlexOffset.lg="25" fxFlex.lg="50" fxFlexOffset.md="10" fxFlexOffset.sm="10" fxFlexOffset.xs="0"  fxFlex.md="80" fxFlex.sm="80" fxFlex.xs="100" fxLayoutWrap>
            <div class="form_field" fxFlex.lg="50" fxFlex.md="100" fxFlex.sm="50" fxFlex.xs="100">
              <!-- <mat-form-field class="checkin-full-width"> -->
              <label fxFlex.sm="80" fxFlex.xs="80" fxFlexOffset.sm="10" fxFlexOffset.xs="10" >
                <input fxFlex.sm="100" fxFlex.xs="100" type="text" placeholder="Employee Name" aria-label="name" matInput [matAutocomplete]="auto" (keyup)='updateFilter($event)'>
                <img src='../../../../../../assets/images/check-in/user.png'>
              </label>
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option *ngFor="let option of employees1 |unique:'id'" [value]="option.first_name" (click)="getEmployeeId(option.id,option)">
                    <span>{{option.first_name}}</span>
                  </mat-option>
                </mat-autocomplete>
              <!-- </mat-form-field> -->
            </div>
            <div class="form_field" fxFlex.lg="50" fxFlex.md="100" fxFlex.sm="50" fxFlex.xs="100">
              <label  fxFlex.sm="80" fxFlex.xs="80" fxFlexOffset.sm="10" fxFlexOffset.xs="10" >
                          <!-- <mat-form-field class="spacebtwn"> -->
              <input matInput  fxFlex.sm="100" fxFlex.xs="100" [matDatepicker]="picker2" placeholder="Date" [formControl]="date">
              <img matSuffix  class="calender" src="../../../../../../assets/images/check-in/calender.png"/>
              <mat-datepicker-toggle matSuffix  [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
              <!-- </mat-form-field> -->
            </label>
            </div>

          </div>
      </div>
      <div class="recap_form_btn" fxLayout="row"  fxLayoutalign="center center">
        <div fxFlexOffset.lg="25" fxFlex.lg="50" fxFlexOffset.md="10" fxFlexOffset.sm="10" fxFlexOffset.xs="10"  fxFlex.md="80" fxFlex.sm="80" fxFlex.xs="80" fxLayout="row" fxLayoutAlign="center start">
        <button class="button_primary" mat-raised-button aria-label="SAVE" [disabled]="step1_next" (click)="nextButton()">
          Next
        </button>
        <button class="button_primary" mat-raised-button aria-label="SAVE" [disabled]="step1_saved" (click)="updateRecap()">
          Saved
        </button>
      </div>
      </div>
    </div>
  </div>
</div>

<!-- select recap -->

<div *ngIf="current_stage==2" class="page-layout fullwidth recap_section recap_section_select" >
  <div class="row employee_details_header" fxLayout="row" fxLayoutAlign="end none" fxLayoutWrap>
    <span class="employee_name">{{employee.first_name}}</span>
    <span class="employee_date">( Lifetime )</span>
  </div>
  <div class="row" fxLayout="row" fxLayoutAlign="start none" fxLayoutWrap>
    <div class="recap_employee_selection select_emp"  fxFlex="100" >
      <h1  fxLayoutAlign="center start">Select the elements for recap</h1>
      <div class="select_recap" fxLayoutWrap>
          <div class="element_recap"  fxFlexOffset.lg="25" fxFlexOffset.md="10"  fxFlexOffset.sm="10" fxFlexOffset.xs="0" fxFlex.lg="50"  fxFlex.md="80" fxFlex.sm="80" fxFlex.xs="100">
            <div fxFlex="20" class="element_recap_icon">
              <img  src="../../../../../../assets/images/check-in/Goal.svg"/>
            </div>

            <div fxFlex="50" class="element_recap_text">Goals
            </div>
            <div fxFlex="30" fxLayoutAlign="end none" class="element_recap_control"><mat-slide-toggle [(ngModel)]="goals"></mat-slide-toggle>
            </div>
          </div>
          <div  class="element_recap"  fxFlexOffset.lg="25" fxFlexOffset.md="10"  fxFlexOffset.sm="10" fxFlexOffset.xs="0" fxFlex.lg="50"  fxFlex.md="80" fxFlex.sm="80" fxFlex.xs="100">
            <div fxFlex="20" class="element_recap_icon">
              <img  src="../../../../../../assets/images/check-in/task.svg"/>
            </div>

            <div fxFlex="50" class="element_recap_text">Task
            </div>
            <div fxFlex="30" fxLayoutAlign="end none" class="element_recap_control"><mat-slide-toggle [(ngModel)]="tasks"></mat-slide-toggle>
            </div>
          </div>
          <div class="element_recap"  fxFlexOffset.lg="25" fxFlexOffset.md="10"  fxFlexOffset.sm="10" fxFlexOffset.xs="0" fxFlex.lg="50"  fxFlex.md="80" fxFlex.sm="80" fxFlex.xs="100">
            <div fxFlex="20" class="element_recap_icon">
              <img  src="../../../../../../assets/images/check-in/assesment.svg"/>
            </div>

            <div fxFlex="50" class="element_recap_text">Assessment
            </div>
            <div fxFlex="30" fxLayoutAlign="end none" class="element_recap_control"><mat-slide-toggle [(ngModel)]="assessment"></mat-slide-toggle>
            </div>
          </div>
      </div>
    </div>
    <div class="recap_form_btn" fxLayout="row" fxFlex="100"  fxLayoutalign="center center">
      <div fxFlex="50" fxFlexOffset="25"  fxLayout="row" fxLayoutAlign="center start">
      <button class="button_primary" mat-raised-button aria-label="SAVE" (click)="nextButton()">
        Next
      </button>

    </div>
    </div>
  </div>

</div>

<!-- Recap summery -->
<div *ngIf="current_stage==3" class="page-layout fullwidth recap_section recap_section_summary" fxFlex="100" fxLayoutWrap>
  <div class="row employee_details_header" fxLayout="row" fxFlex="100" fxLayoutAlign="space-between none" fxLayoutWrap>
    <div>
      <h1  fxLayoutAlign="center start">Recap Summary</h1>
    </div>
    <div>
      <span class="employee_name">{{employee.first_name}}</span>
      <span class="employee_date">( Lifetime ) </span>
    </div>

  </div>
  <div class="row" fxLayout="row" fxFlex="100" fxLayoutAlign="start none" fxLayoutWrap>
    <div class="recap_summary" fxFlex="100" fxLayoutWrap>

      <div class="row" fxLayout="row" fxFlex.lg="50"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100" fxLayoutWrap fxLayoutAlign="start start" >
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Conversations Count</h2>
            </div>
            <div class="conversations_count" fxFlex="100" fxLayoutWrap>
              <ul  fxFlex="100" fxLayoutWrap fxLayoutAlign="space-between none">
                  <li fxFlex.lg="calc(30% - 30px)"  fxFlex.md="calc(50% - 30px)" fxFlex.sm="calc(30% - 30px)" fxFlex.xs="calc(30% - 30px)" class="{{checkin_type[type].details.class}}" *ngFor="let type of checkin_type | keys | slice:3:6"><p>{{checkin_type[type].details.checkin_name}}</p><h3>{{checkin_type[type].count}}</h3></li>
                  <!-- <li fxFlex class="correction_mi_color"><p>Minor Correction</p><h3>8</h3></li> -->
                  <!-- <li fxFlex class="correction_ma_color"><p>Major Correction</p><h3>6</h3></li> -->
              </ul>
              <ul fxFlex="100" fxLayoutWrap fxLayoutAlign="space-between none">
                  <li fxFlex.lg="calc(30% - 30px)"  fxFlex.md="calc(50% - 30px)" fxFlex.sm="calc(30% - 30px)" fxFlex.xs="calc(30% - 30px)" fxFlex class="{{checkin_type[type].details.class}}" *ngFor="let type of checkin_type | keys | slice:0:3"><p>{{checkin_type[type].details.checkin_name}}</p><h3>{{checkin_type[type].count}}</h3></li>
                  <!-- <li fxFlex class="info_color"><p>Goals</p><h3>8</h3></li> -->
                  <!-- <li fxFlex class="info_color"><p>Tasks</p><h3>6</h3></li> -->
              </ul>
            </div>
        </div>
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Above and Beyond!</h2>
            </div>
              <div class="above_and_beyond" fxFlex="100" *ngIf="topic_list.above.length!=0">
                <span class="tags recognize_color_bg" *ngFor="let topic of topic_list.above |unique:'checkin_topic_id'">{{topic.Topic.topic_name}}</span>
                <!-- <span class="tags correction_ma_color_bg">Speed</span> -->
                <!-- <span class="tags correction_mi_color_bg">Decision Making</span> -->
              </div>
              <div class="above_and_beyond" fxFlex="100" *ngIf="topic_list.above.length==0">
                <span>None</span>
              </div>
        </div>

        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap *ngIf="goals">
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Goals</h2>
            </div>
              <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.goals.length!=0">

                <mat-accordion >
                  <mat-expansion-panel *ngFor="let topic_goal of topic_list.goals |unique:'checkin_topic_id'" hideToggle="true">
                    <mat-expansion-panel-header>
                        <i class="material-icons">keyboard_arrow_down</i>
                         {{topic_goal.Topic.topic_name}}
                    </mat-expansion-panel-header>
                    <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap>
                        <div class="dates"  fxFlex="100" fxLayoutAlign="space-between start">
                          <div fxFlex="50">This happened on : {{topic_goal.start_date | date: 'MM/dd/yy'}}</div>
                          <div fxFlex="50" style="text-align:right;">Ends at: {{topic_goal.end_date | date: 'MM/dd/yy'}}</div>
                        </div>
                          <div class="comment" fxLayoutWrap fxFlex="100" fxLayoutAlign="start start">
                            <h4  fxFlex="100">Comment</h4>
                            <p  fxFlex="100">{{topic_goal.comments}}</p>
                          </div>
                          <div class="dates"  fxFlex="100" fxLayoutAlign="space-between start">
                            <div fxFlex="100">Follow up date : {{topic_goal.follow_up_date | date: 'MM/dd/yy'}}</div>
                          </div>
                          <div class="dates"  fxFlex="100" fxLayoutAlign="space-between start">
                            <div fxFlex="50">Was it accomplished?</div>
                            <div fxFlex="50" fxLayoutAlign="end start" style="text-align:right;"><mat-slide-toggle [(ngModel)]="topic_goal_end_date[topic_goal.checkin_topic_id]"></mat-slide-toggle></div>
                          </div>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
              <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.goals.length==0">
                None
              </div>
        </div>

        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap *ngIf="tasks">
          <div class="recap_s_iteam_header" fxFlex="100">
            <h2>Tasks</h2>
          </div>
          <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.tasks.length!=0">

            <mat-accordion >
              <mat-expansion-panel *ngFor="let topic_task of topic_list.tasks |unique:'checkin_topic_id'" hideToggle="true">
                <mat-expansion-panel-header>
                  <i class="material-icons">keyboard_arrow_down</i>
                  {{topic_task.Topic.topic_name}}
                </mat-expansion-panel-header>
                <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap>
                  <div class="dates" fxFlex="100" fxLayoutAlign="space-between start">
                    <div fxFlex="50">This happened on : {{topic_task.start_date | date: 'MM/dd/yy'}}</div>
                    <div fxFlex="50" style="text-align:right;">Ends at: {{topic_task.end_date | date: 'MM/dd/yy'}}</div>
                  </div>
                  <div class="comment" fxLayoutWrap fxFlex="100" fxLayoutAlign="start start">
                    <h4 fxFlex="100">Comment</h4>
                    <p fxFlex="100">{{topic_task.comments}}</p>
                  </div>
                  <div class="dates" fxFlex="100" fxLayoutAlign="space-between start">
                    <div fxFlex="100">Follow up date : {{topic_task.follow_up_date | date: 'MM/dd/yy'}}</div>
                  </div>
                  <div class="dates" fxFlex="100" fxLayoutAlign="space-between start">
                    <div fxFlex="50">Was it accomplished?</div>
                    <div fxFlex="50" fxLayoutAlign="end start" style="text-align:right;">
                      <mat-slide-toggle [(ngModel)]="topic_task_end_date[topic_task.checkin_topic_id]"></mat-slide-toggle>
                    </div>
                  </div>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
          <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.tasks.length==0">
            None
          </div>
        </div>


      </div>

      <div class="row recap_summary_iteam_right" fxLayout="row" fxFlex.lg="50"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100"  fxLayoutWrap fxLayoutAlign="start start" >
        <div class="recap_summary_iteam" fxLayoutAlign="start start" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2 fxFlex="100">Misconduct Tags</h2>
              <!-- <h3 fxFlex="50"></h3> -->
            </div>
            <div class="misconduct_tags" fxFlex="100">

              <ul fxFlex="100" fxLayoutWrap *ngIf="topic_list.misconduct.length!=0">
                  <li fxFlex="100"  *ngFor="let topic of topic_list.misconduct |unique:'checkin_topic_id'"> <div fxFlex><span class="tags correction_ma_color_bg" >{{topic.Topic.topic_name}}</span></div> <div fxFlex class="expected_imp_count">{{topic.expectation  | date: 'MM/dd/yy'}}</div> <li>
                  <!-- <li fxFlex="100"> <div fxFlex><span class="tags correction_ma_color_bg">Speed</span></div> <div fxFlex class="expected_imp_count">-</div> <li> -->
                  <!-- <li fxFlex="100"> <div fxFlex><span class="tags correction_mi_color_bg">Decision Making</span></div> <div fxFlex class="expected_imp_count">18/03/18</div> <li> -->
              </ul>
              <ul fxFlex="100" fxLayoutWrap *ngIf="topic_list.misconduct.length==0">
                 <li fxFlex="100">None <li>
              </ul>
            </div>
        </div>
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Strengths & Opportunities</h2>
            </div>
              <div class="strengths_opportunities" fxLayoutWrap fxFlex="100">

                  <h5 fxFlex="100" fxLayoutWrap>Strengths </h5>
                  <span *ngFor="let topic of topic_list.strength_recap |unique:'checkin_topic_id'" class="tags recognize_color_bg">{{topic.Topic.topic_name}} </span>
                  <h5 fxFlex="100" fxLayoutWrap>Opportunities </h5>
                    <span *ngFor="let topic of topic_list.oppurtunities_recap_major |unique:'checkin_topic_id'" class="tags correction_ma_color_bg">{{topic.Topic.topic_name}}</span>
                    <span *ngFor="let topic of topic_list.oppurtunities_recap_minor |unique:'checkin_topic_id'" class="tags correction_mi_color_bg">{{topic.Topic.topic_name}}</span>
                <!-- <mat-accordion >
                  <mat-expansion-panel hideToggle="true">
                    <mat-expansion-panel-header>
                        <i class="material-icons">keyboard_arrow_down</i>
                        Strengths
                    </mat-expansion-panel-header>
                    <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap >
                           <span *ngFor="let topic of topic_list.strength_recap |unique:'checkin_topic_id'" class="tags recognize_color_bg">{{topic.Topic.topic_name}} </span>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion> -->
                <!-- <mat-accordion >
                  <mat-expansion-panel hideToggle="true">
                    <mat-expansion-panel-header>
                        <i class="material-icons">keyboard_arrow_down</i>
                        Opportunities
                    </mat-expansion-panel-header>
                    <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap >

                           <span *ngFor="let topic of topic_list.oppurtunities_recap |unique:'checkin_topic_id'" class="tags recognize_color_bg">{{topic.Topic.topic_name}}</span>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion> -->

              </div>
        </div>
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap *ngIf="assessment">
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Behavioral Assessment</h2>
            </div>
            <div class="behavioral_data" fxFlex="100" fxLayoutWrap>
              <ul fxFlex="100" fxLayoutWrap>
                <li fxFlex="100" fxLayoutWrap><p fxFlex.lg="80"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Employee is currently meeting all expectations/standards for their position</p><span fxFlex.lg="20"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100"  fxLayoutAlign="end start"><mat-slide-toggle [(ngModel)]="individual_standards"></mat-slide-toggle></span></li>
                <li fxFlex="100" fxLayoutWrap><p fxFlex.lg="80"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Impact of employee's performance on customers, team and company</p>
                  <textarea fxFlex="100" [(ngModel)]="employee_performance">enter comments…</textarea>
                </li>
                <li fxFlex="100" fxLayoutWrap>
                  <p fxFlex.lg="80" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Based on their performance, employee is ready for additional responsibility</p>
                  <span fxFlex.lg="20" fxFlex.md="100" fxFlex.sm="100"
                    fxFlex.xs="100" fxLayoutAlign="end start">
                    <mat-slide-toggle [(ngModel)]="additional_responsibility"></mat-slide-toggle>
                  </span>
                </li>
                <li fxFlex="100" fxLayoutWrap *ngIf="additional_responsibility==1">
                  <p fxFlex.lg="80" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Complete Growth Plan</p>
                  <textarea fxFlex="100" [(ngModel)]="complete_growth_plan">enter comments…</textarea>
                </li>
                <li></li>
              </ul>
            </div>
        </div>

        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Note</h2>
            </div>
            <div class="behavioral_data" fxFlex="100" fxLayoutWrap>
              <ul fxFlex="100" fxLayoutWrap>
                <li fxFlex="100" fxLayoutWrap><h5 fxFlex="100">Manager Input & Expectations</h5>
                  <textarea fxFlex="100" [(ngModel)]="manager_notes">enter comments…</textarea>
                </li>
                <li fxFlex="100" fxLayoutWrap>
                  <h5 fxFlex="100">Employee Input & Expectations</h5>
                  <textarea fxFlex="100" [(ngModel)]="employee_notes">enter comments…</textarea>
                </li>
              </ul>
            </div>

        </div>






      </div>


      <div class="recap_form_btn recap_summary" fxFlex="100" fxLayoutalign="center center">
        <div fxFlex="100" fxLayoutWrap  fxLayout="row" fxLayoutAlign="center start">

          <button fxLayoutGap="20px"  fxFlex.lg="15" fxFlex.md="30" fxFlex.sm="30" fxFlex.xs="60" fxFlexOffset.xs="calc(20% - 80px)" class="button_primary" mat-raised-button aria-label="SAVE" (click)="backButton()">
            Back
          </button>
          <button fxLayoutGap="20px" fxFlex.lg="15" fxFlex.md="30" fxFlex.sm="30" fxFlex.xs="60" fxFlexOffset.xs="calc(20% - 80px)"  class="button_primary" mat-raised-button aria-label="SAVE" (click)="recapSubmit(0)">
             Save Recap
          </button>
           <button fxLayoutGap="20px" fxFlex.lg="15" fxFlex.md="30" fxFlex.sm="30" fxFlex.xs="60" fxFlexOffset.xs="calc(20% - 80px)"  class="button_primary" mat-raised-button aria-label="SAVE" (click)="recapSubmit(1)">
            Publish Recap
          </button>
        </div>
      </div>


    </div>
  </div>


</div>




<div *ngIf="current_stage==4" class="page-layout fullwidth recap_section recap_section_summary recap_section_summary_data" fxFlex="100" fxLayoutWrap>
  <div class="row employee_details_header" fxLayout="row" fxFlex="100" fxLayoutAlign="space-between none" fxLayoutWrap>
    <div>
      <h1  fxLayoutAlign="center start">Recap Summary</h1>
    </div>
    <div>
      <span class="employee_name">{{employee.first_name}}</span>
      <span class="employee_date">( Lifetime ) </span>
    </div>

  </div>
  <div class="row" fxLayout="row" fxFlex="100" fxLayoutAlign="start none" fxLayoutWrap>
    <div class="recap_summary" fxFlex="100" fxLayoutWrap>

      <div class="row" fxLayout="row" fxFlex.lg="50"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100" fxLayoutWrap fxLayoutAlign="start start" >
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Conversations Count</h2>
            </div>
            <div class="conversations_count" fxFlex="100" fxLayoutWrap>
              <ul  fxFlex="100" fxLayoutWrap fxLayoutAlign="space-between none">
                  <li fxFlex.lg="calc(30% - 30px)"  fxFlex.md="calc(50% - 30px)" fxFlex.sm="calc(30% - 30px)" fxFlex.xs="calc(30% - 30px)" class="{{checkin_type[type].details.class}}" *ngFor="let type of checkin_type | keys | slice:3:6"><p>{{checkin_type[type].details.checkin_name}}</p><h3>{{checkin_type[type].count}}</h3></li>
                  <!-- <li fxFlex class="correction_mi_color"><p>Minor Correction</p><h3>8</h3></li> -->
                  <!-- <li fxFlex class="correction_ma_color"><p>Major Correction</p><h3>6</h3></li> -->
              </ul>
              <ul fxFlex="100" fxLayoutWrap fxLayoutAlign="space-between none">
                  <li fxFlex.lg="calc(30% - 30px)"  fxFlex.md="calc(50% - 30px)" fxFlex.sm="calc(30% - 30px)" fxFlex.xs="calc(30% - 30px)" fxFlex class="{{checkin_type[type].details.class}}" *ngFor="let type of checkin_type | keys | slice:0:3"><p>{{checkin_type[type].details.checkin_name}}</p><h3>{{checkin_type[type].count}}</h3></li>
                  <!-- <li fxFlex class="info_color"><p>Goals</p><h3>8</h3></li> -->
                  <!-- <li fxFlex class="info_color"><p>Tasks</p><h3>6</h3></li> -->
              </ul>
            </div>
        </div>
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Above and Beyond!</h2>
            </div>
              <div class="above_and_beyond" fxFlex="100" *ngIf="topic_list.above.length!=0">
                <span class="tags recognize_color_bg" *ngFor="let topic of topic_list.above |unique:'checkin_topic_id'">{{topic.Topic.topic_name}}</span>
                <!-- <span class="tags correction_ma_color_bg">Speed</span> -->
                <!-- <span class="tags correction_mi_color_bg">Decision Making</span> -->
              </div>
              <div class="above_and_beyond" fxFlex="100" *ngIf="topic_list.above.length==0">
                <span>None</span>
              </div>
        </div>

        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap *ngIf="goals">
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Goals</h2>
            </div>
              <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.goals.length!=0">

                <mat-accordion >
                  <mat-expansion-panel *ngFor="let topic_goal of topic_list.goals |unique:'checkin_topic_id'" hideToggle="true" [expanded]="true">
                    <mat-expansion-panel-header>
                        <i class="material-icons">keyboard_arrow_down</i>
                         {{topic_goal.Topic.topic_name}}
                    </mat-expansion-panel-header>
                    <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap>
                        <div class="dates"  fxFlex="100" fxLayoutAlign="space-between start">
                          <div fxFlex="50">This happened on : {{topic_goal.start_date | date: 'MM/dd/yy'}}</div>
                          <div fxFlex="50" style="text-align:right;">Ends at: {{topic_goal.end_date | date: 'MM/dd/yy'}}</div>
                        </div>
                          <div class="comment" fxLayoutWrap fxFlex="100" fxLayoutAlign="start start">
                            <h4  fxFlex="100">Comment</h4>
                            <p  fxFlex="100">{{topic_goal.comments}}</p>
                          </div>
                          <div class="dates"  fxFlex="100" fxLayoutAlign="space-between start">
                            <div fxFlex="100">Follow up date : {{topic_goal.follow_up_date | date: 'MM/dd/yy'}}</div>
                          </div>
                          <div class="dates"  fxFlex="100" fxLayoutAlign="space-between start">
                            <div fxFlex="50">Was it accomplished?</div>
                            <span *ngIf="topic_goal_end_date[topic_goal.checkin_topic_id]==1">Yes</span>
                            <span *ngIf="topic_goal_end_date[topic_goal.checkin_topic_id]==0">No</span>
                            <!-- <div fxFlex="50" fxLayoutAlign="end start" style="text-align:right;"><mat-slide-toggle [(ngModel)]="topic_goal_end_date[topic_goal.checkin_topic_id]"></mat-slide-toggle></div> -->
                          </div>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
              <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.goals.length==0">
                None
              </div>
        </div>

        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap *ngIf="tasks">
          <div class="recap_s_iteam_header" fxFlex="100">
            <h2>Tasks</h2>
          </div>
          <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.tasks.length!=0">

            <mat-accordion >
              <mat-expansion-panel *ngFor="let topic_task of topic_list.tasks |unique:'checkin_topic_id'" hideToggle="true" [expanded]="true">
                <mat-expansion-panel-header>
                  <i class="material-icons">keyboard_arrow_down</i>
                  {{topic_task.Topic.topic_name}}
                </mat-expansion-panel-header>
                <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap>
                  <div class="dates" fxFlex="100" fxLayoutAlign="space-between start">
                    <div fxFlex="50">This happened on : {{topic_task.start_date | date: 'MM/dd/yy'}}</div>
                    <div fxFlex="50" style="text-align:right;">Ends at: {{topic_task.end_date | date: 'MM/dd/yy'}}</div>
                  </div>
                  <div class="comment" fxLayoutWrap fxFlex="100" fxLayoutAlign="start start">
                    <h4 fxFlex="100">Comment</h4>
                    <p fxFlex="100">{{topic_task.comments}}</p>
                  </div>
                  <div class="dates" fxFlex="100" fxLayoutAlign="space-between start">
                    <div fxFlex="100">Follow up date : {{topic_task.follow_up_date | date: 'MM/dd/yy'}}</div>
                  </div>
                  <div class="dates" fxFlex="100" fxLayoutAlign="space-between start">
                    <div fxFlex="50">Was it accomplished?</div>
                    <span *ngIf="topic_task_end_date[topic_task.checkin_topic_id]==1">Yes</span>
                    <span *ngIf="topic_task_end_date[topic_task.checkin_topic_id]==0">No</span>
                    <!-- <div fxFlex="50" fxLayoutAlign="end start" style="text-align:right;">
                      <mat-slide-toggle [(ngModel)]="topic_task_end_date[topic_task.checkin_topic_id]"></mat-slide-toggle>
                    </div> -->
                  </div>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
          <div class="strengths_opportunities" fxFlex="100" *ngIf="topic_list.tasks.length==0">
            None
          </div>
        </div>


      </div>

      <div class="row recap_summary_iteam_right" fxLayout="row" fxFlex.lg="50"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100"  fxLayoutWrap fxLayoutAlign="start start" >
        <div class="recap_summary_iteam" fxLayoutAlign="start start" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2 fxFlex="100">Misconduct Tags</h2>
              <!-- <h3 fxFlex="50"></h3> -->
            </div>
            <div class="misconduct_tags" fxFlex="100">

              <ul fxFlex="100" fxLayoutWrap *ngIf="topic_list.misconduct.length!=0">
                  <li fxFlex="100"  *ngFor="let topic of topic_list.misconduct |unique:'checkin_topic_id'"> <div fxFlex><span class="tags correction_ma_color_bg" >{{topic.Topic.topic_name}}</span></div> <div fxFlex class="expected_imp_count">{{topic.expectation  | date: 'MM/dd/yy'}}</div> <li>
                  <!-- <li fxFlex="100"> <div fxFlex><span class="tags correction_ma_color_bg">Speed</span></div> <div fxFlex class="expected_imp_count">-</div> <li> -->
                  <!-- <li fxFlex="100"> <div fxFlex><span class="tags correction_mi_color_bg">Decision Making</span></div> <div fxFlex class="expected_imp_count">18/03/18</div> <li> -->
              </ul>
              <ul fxFlex="100" fxLayoutWrap *ngIf="topic_list.misconduct.length==0">
                 <li fxFlex="100">None <li>
              </ul>
            </div>
        </div>
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Strengths & Opportunities</h2>
            </div>
              <div class="strengths_opportunities" fxLayoutWrap fxFlex="100">

                  <h5 fxFlex="100" fxLayoutWrap>Strengths </h5>
                  <span *ngFor="let topic of topic_list.strength_recap |unique:'checkin_topic_id'" class="tags recognize_color_bg">{{topic.Topic.topic_name}} </span>
                  <h5 fxFlex="100" fxLayoutWrap>Opportunities </h5>
                    <span *ngFor="let topic of topic_list.oppurtunities_recap_major |unique:'checkin_topic_id'" class="tags correction_ma_color_bg">{{topic.Topic.topic_name}}</span>
                    <span *ngFor="let topic of topic_list.oppurtunities_recap_minor |unique:'checkin_topic_id'" class="tags correction_mi_color_bg">{{topic.Topic.topic_name}}</span>
                <!-- <mat-accordion >
                  <mat-expansion-panel hideToggle="true">
                    <mat-expansion-panel-header>
                        <i class="material-icons">keyboard_arrow_down</i>
                        Strengths
                    </mat-expansion-panel-header>
                    <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap >
                           <span *ngFor="let topic of topic_list.strength_recap |unique:'checkin_topic_id'" class="tags recognize_color_bg">{{topic.Topic.topic_name}} </span>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion> -->
                <!-- <mat-accordion >
                  <mat-expansion-panel hideToggle="true">
                    <mat-expansion-panel-header>
                        <i class="material-icons">keyboard_arrow_down</i>
                        Opportunities
                    </mat-expansion-panel-header>
                    <div fxLayout="row" fxFlex="100" class="accordion_data" fxLayoutWrap >

                           <span *ngFor="let topic of topic_list.oppurtunities_recap |unique:'checkin_topic_id'" class="tags recognize_color_bg">{{topic.Topic.topic_name}}</span>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion> -->

              </div>
        </div>
        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap *ngIf="assessment">
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Behavioral Assessment</h2>
            </div>
            <div class="behavioral_data" fxFlex="100" fxLayoutWrap>
              <ul fxFlex="100" fxLayoutWrap>
                <li fxFlex="100" fxLayoutWrap><p fxFlex.lg="80"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Employee is currently meeting all expectations/standards for their position</p>
                  <span *ngIf="individual_standards==0" fxFlex.lg="20"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100"  fxLayoutAlign="end start">No</span>
                  <span *ngIf="individual_standards==1" fxFlex.lg="20"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100"  fxLayoutAlign="end start">Yes</span>
                  <!-- <span fxFlex.lg="20"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100"  fxLayoutAlign="end start"><mat-slide-toggle [(ngModel)]="individual_standards"></mat-slide-toggle></span> -->
                </li>
                <li fxFlex="100" fxLayoutWrap><p fxFlex.lg="80"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Impact of employee's performance on customers, team and company</p>
                  <!-- <textarea fxFlex="100" [(ngModel)]="employee_performance">enter comments…</textarea> -->
                  <p class="textarea_display">"{{employee_performance}}"</p>
                </li>
                <li fxFlex="100" fxLayoutWrap>
                  <p fxFlex.lg="80" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Based on their performance, employee is ready for additional responsibility</p>
                  <span *ngIf="additional_responsibility==0" fxFlex.lg="20" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100" fxLayoutAlign="end start">No</span>
                  <span *ngIf="additional_responsibility==1" fxFlex.lg="20" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100" fxLayoutAlign="end start">Yes</span>
                  <!-- <span fxFlex.lg="20"  fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100"  fxLayoutAlign="end start"><mat-slide-toggle [(ngModel)]="individual_standards"></mat-slide-toggle></span> -->
                </li>
                <li fxFlex="100" fxLayoutWrap>
                  <p fxFlex.lg="80" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Complete Growth Plan</p>
                  <!-- <textarea fxFlex="100" [(ngModel)]="employee_performance">enter comments…</textarea> -->
                  <p class="textarea_display">"{{complete_growth_plan}}"</p>
                </li>
                <li></li>
              </ul>
            </div>
        </div>

        <div class="recap_summary_iteam" fxFlex="100" fxLayoutWrap>
            <div class="recap_s_iteam_header" fxFlex="100">
              <h2>Note</h2>
            </div>
            <div class="behavioral_data" fxFlex="100" fxLayoutWrap>
              <ul fxFlex="100" fxLayoutWrap>
                <li fxFlex="100" fxLayoutWrap><h5 fxFlex="100">Manager Input & Expectations</h5>
                  <!-- <textarea fxFlex="100" [(ngModel)]="manager_notes">enter comments…</textarea> -->
                  <p class="textarea_display">"{{manager_notes}}"</p>
                </li>
                <li fxFlex="100" fxLayoutWrap>
                  <h5 fxFlex="100">Employee Input & Expectations</h5>
                  <!-- <textarea fxFlex="100" [(ngModel)]="employee_notes">enter comments…</textarea> -->
                  <p class="textarea_display">"{{employee_notes}}"</p>
                </li>
              </ul>
            </div>
        </div>
      </div>
      <div class="recap_form_btn recap_summary" fxFlex="100" fxLayoutalign="center center">
        <div fxFlex="100" fxLayoutWrap  fxLayout="row" fxLayoutAlign="center center">

          <button fxLayoutGap="20px"  fxFlex.lg="20" fxFlex.md="30" fxFlex.sm="30" fxFlex.xs="60" class="button_primary" mat-raised-button aria-label="SAVE" (click)="sendSummaryEmployee()">
             For employee : I'm in
          </button>
          <button fxLayoutGap="20px" fxFlex.lg="20" fxFlex.md="30" fxFlex.sm="30" fxFlex.xs="60" class="button_primary" mat-raised-button aria-label="SAVE" (click)="sendSummary()">
           For manager : I'm in
          </button>

        </div>
      </div>


    </div>
  </div>


</div>








<!-- <div *ngIf="current_stage==4" style="display:none;">
  <div class="card-preview">
    <div class="fuse-card">
      <div class="p-16">
        <div class="h1">Summary</div>
        <div class="h4 secondary-text">{{recap_details.recap_date | date: 'MM/dd/yy'}}</div>
      </div>
      <div class="p-16 pt-0 line-height-1.75">
        <p mat-line *ngIf="recap_details.goal_achieved==1; else elsegoals;">Goals Achieved : Yes </p>
        <ng-template #elsegoals>
          <p mat-line>Goals Achieved : No</p>
        </ng-template>
        <p mat-line *ngIf="recap_details.Individual_standards==1; else elsegoals;">Individual standards : Yes </p>
        <ng-template #elsegoals>
          <p mat-line>individual standards : No</p>
        </ng-template>
        <p mat-line *ngIf="recap_details.additional_responsibility==1; else elsegoals;">Additional responsibility : Yes </p>
        <ng-template #elsegoals>
          <p mat-line>Additional responsibility : No</p>
        </ng-template>
        <p mat-line>Performance: {{recap_details.member_performance}} </p>
        <p mat-line>Employee Note: {{recap_details.creator_note}} </p>
        <p mat-line>My Note: {{recap_details.member_note}} </p>
      </div>
    </div>
  </div>
  <mat-list>
    <h4 mat-line>strength</h4>
    <h3 mat-subheader>Recap Time Period</h3>
    <mat-list-item *ngFor="let topic of strength_recap">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
    <h3 mat-subheader>Lifetime</h3>
    <mat-list-item *ngFor="let topic of strength_lifetime">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
    <mat-divider></mat-divider>
    <h4 mat-line>Oppurtunity</h4>
    <h3 mat-subheader>Recap Time Period</h3>
    <mat-list-item *ngFor="let topic of oppurtunity_recap">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
    <h3 mat-subheader>Lifetime</h3>
    <mat-list-item *ngFor="let topic of oppurtunity_lifetime">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
    <mat-divider></mat-divider>
    <h4 mat-line>Goal</h4>
    <h3 mat-subheader>Completed</h3>
    <mat-list-item *ngFor="let topic of completed_goal">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
    <h3 mat-subheader>Incompleted</h3>
    <mat-list-item *ngFor="let topic of incompleted_goal">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
    <mat-divider></mat-divider>
    <h4 mat-line>Task</h4>
    <h3 mat-subheader>Completed</h3>
    <mat-list-item *ngFor="let topic of completed_task">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
    <h3 mat-subheader>Incompleted</h3>
    <mat-list-item *ngFor="let topic of incompleted_task">
      <mat-icon mat-list-icon>chevron_right</mat-icon>
      <mat-chip-list>
        <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
      </mat-chip-list>
    </mat-list-item>
  </mat-list>
  <div>
    For manager
    <button mat-raised-button style="background-color:#8bd94c; color: #fff" (click)="sendSummary()">I'm in</button>
    For employee
    <button mat-raised-button style="background-color:#8bd94c; color: #fff" (click)="sendSummary()">I'm in</button>
  </div>
</div> -->










<!-- <div style="overflow:auto;width: 260%;" style="display:none;"> -->
  <!-- first div -->
  <!-- <div *ngIf="current_stage==1">
    <mat-card class="start-card">
      <md-card-header>
        <md-card-title class="cardtitle">Employee Selection</md-card-title>
      </md-card-header>
      <div fxLayout="column" class="maindiv">
        <div fxLayout="row">
          <mat-form-field class="checkin-full-width">
            <input type="text" placeholder="Employee Name" aria-label="name" matInput [matAutocomplete]="auto" (keyup)='updateFilter($event)'>
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let option of employees1 |unique:'id'" [value]="option.first_name" (click)="getEmployeeId(option.id,option.checkin_id,option)">
                <span>{{option.first_name}}</span>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <mat-form-field class="spacebtwn">
            <input matInput [matDatepicker]="picker2" placeholder="Date" [formControl]="date">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </div>
        <div fxLayout="row">
          <button mat-raised-button class="save-button mat-accent" [disabled]="step1_next" aria-label="SAVE" (click)="nextButton()" style="background-color:#8bd94c;">
            Next
          </button>
          <button mat-raised-button class="save-button mat-accent" aria-label="SAVE" [disabled]="step1_saved" (click)="updateRecap()" style="background-color:#8bd94c;">
            Saved
          </button>
        </div>
      </div>
    </mat-card>
  </div> -->
  <!-- <div *ngIf="current_stage==2">
    <mat-card class="start-card">
      <md-card-header>
        <md-card-title class="cardtitle">Choose Elements</md-card-title>
      </md-card-header>
      <br/>
      <section class="mat-typography">
        <h3>Employee Name: {{employee.first_name}}
      </h3>
      </section>
      <div class="start-card" style="width: 75%;">
        <div mat-dialog-content class="p-24 m-0" perfect-scrollbar fxLayout="row">
          <mat-slide-toggle [(ngModel)]="goals">Goals</mat-slide-toggle>
        </div>
        <div mat-dialog-content class="p-24 m-0" perfect-scrollbar fxLayout="row">
          <mat-slide-toggle [(ngModel)]="tasks">Tasks</mat-slide-toggle>
        </div>
        <div mat-dialog-content class="p-24 m-0" perfect-scrollbar fxLayout="row">
          <mat-slide-toggle [(ngModel)]="assessment">Assessment</mat-slide-toggle>
        </div>
      </div>
      <div fxLayout="row">
        <button mat-raised-button class="save-button mat-accent" aria-label="SAVE" (click)="nextButton()" style="background-color:#8bd94c;">
          Next
        </button>
      </div>
    </mat-card>
  </div> -->
  <!-- third div -->
  <!-- <div *ngIf="current_stage==3">
    <mat-card class="start-card">
      <md-card-header>
        <md-card-title class="cardtitle"></md-card-title>
      </md-card-header>
      <br/>
      <section class="mat-typography">
        <h3>Employee Name: {{employee.first_name}}
      </h3>
      </section>
      <div>
        <md-card-header>
          <md-card-title class="cardtitle">Summary</md-card-title>
        </md-card-header>
        <div>
          <mat-card class="start-card" style="width: 20%;" *ngFor="let type of checkin_types |unique:'type_name'">
            {{type.type_name}}
            <span>: <b>1</b></span>
          </mat-card>
        </div>
        <div class="start-card" style="width: 75%;">
          <div mat-dialog-content class="p-24 m-0" perfect-scrollbar fxLayout="row">
            <h5><b>Any Above and Beyond</b></h5>
            <mat-chip-list>
              <mat-chip color="accent" selected="true" *ngFor="let topic_above of checkin_topics_above |unique:'topic_name'">{{topic_above.topic_name}}</mat-chip>
            </mat-chip-list>
          </div>
          <div mat-dialog-content class="p-24 m-0" perfect-scrollbar fxLayout="row">
            <h5><b>Any Misconduct tags</b></h5>
            <mat-chip-list>
              <mat-chip color="accent" selected="true" *ngFor="let topic_misconduct of checkin_topics_misconduct |unique:'topic_name'">{{topic_misconduct.topic_name}}</mat-chip>
            </mat-chip-list>
          </div>
          <div mat-dialog-content class="p-24 m-0" perfect-scrollbar fxLayout="row">
            <h5><b>Any Expected Improvement Dates</b></h5>
            <mat-chip-list>
              <mat-chip color="accent" selected="true" *ngFor="let topic_expectation of checkin_topics_expectation |unique:'topic_exp'">{{topic_expectation.topic_exp | date: 'MM/dd/yy'}}</mat-chip>
            </mat-chip-list>
          </div>
        </div>
      </div>
      <div>
        <md-card-header>
          <md-card-title class="cardtitle">Strengths & Opportunities</md-card-title>
        </md-card-header>
        <div class="start-card" style="width: 75%;">
          <md-card-header>
            <md-card-title class="cardtitle">Strengths</md-card-title>
          </md-card-header>
          <mat-accordion class="example-headers-align">
            <mat-expansion-panel style="margin-bottom: 16px;" hideToggle="true">
              <mat-expansion-panel-header style="padding: 20px;background-color: rgb(211, 211, 211);">
                <mat-panel-title>
                  3 Most Recognized Tags for this Recap Period
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div fxLayout="row" fxLayoutWrap>
                <div fxFlex="23" *ngFor="let period_topic_reg of checkin_topic_reg_period |unique:'topic_name'">
                  <mat-nav-list class="category">
                    <mat-list-item>
                      <mat-checkbox [(ngModel)]="most_tag_rec_recap_period[period_topic_reg.topic_id]">{{period_topic_reg.topic_name}}</mat-checkbox>
                    </mat-list-item>
                  </mat-nav-list>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <mat-accordion class="example-headers-align">
            <mat-expansion-panel style="margin-bottom: 16px;" hideToggle="true">
              <mat-expansion-panel-header style="padding: 20px;background-color: rgb(211, 211, 211);">
                <mat-panel-title>
                  3 Most Recognized Tags over employee Lifetime
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div fxLayout="row" fxLayoutWrap>
                <div fxFlex="23" *ngFor="let lifetime_topic_reg of checkin_topic_reg_lifetime |unique:'topic_name'">
                  <mat-nav-list class="category">
                    <mat-list-item>
                      <mat-checkbox [(ngModel)]="most_tag_reg_recap_lifetime[lifetime_topic_reg.topic_id]">{{lifetime_topic_reg.topic_name}}</mat-checkbox>
                    </mat-list-item>
                  </mat-nav-list>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <md-card-header>
            <md-card-title class="cardtitle">Opportunities</md-card-title>
          </md-card-header>
          <mat-accordion class="example-headers-align">
            <mat-expansion-panel style="margin-bottom: 16px;" hideToggle="true">
              <mat-expansion-panel-header style="padding: 20px;background-color: rgb(211, 211, 211);">
                <mat-panel-title>
                  2 Most Corrected Tags for this Recap Period
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div fxLayout="row" fxLayoutWrap>
                <div fxFlex="23" *ngFor="let period_topic_corr of checkin_topic_corr_period |unique:'topic_name'">
                  <mat-nav-list class="category">
                    <mat-list-item>
                      <mat-checkbox [(ngModel)]="most_tag_corr_recap_period[period_topic_corr.topic_id]">{{period_topic_corr.topic_name}}</mat-checkbox>
                    </mat-list-item>
                  </mat-nav-list>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <mat-accordion class="example-headers-align">
            <mat-expansion-panel style="margin-bottom: 16px;" hideToggle="true">
              <mat-expansion-panel-header style="padding: 20px;background-color: rgb(211, 211, 211);">
                <mat-panel-title>
                  2 Most Corrected Tags over employee Lifetime
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div fxLayout="row" fxLayoutWrap>
                <div fxFlex="23" *ngFor="let lifetime_topic_corr of checkin_topic_corr_lifetime |unique:'topic_name'">
                  <mat-nav-list class="category">
                    <mat-list-item>
                      <mat-checkbox [(ngModel)]="most_tag_corr_recap_lifetime[lifetime_topic_corr.topic_id]">{{lifetime_topic_corr.topic_name}}</mat-checkbox>
                    </mat-list-item>
                  </mat-nav-list>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </div>
      <div *ngIf="goals">
        <md-card-header>
          <md-card-title class="cardtitle">Goals</md-card-title>
        </md-card-header>
        <div class="start-card" style="width: 75%;">
          <div fxFlex="23" *ngFor="let topic_goal of checkin_topic_goal |unique:'topic_name'">
            <mat-accordion>
              <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    {{topic_goal.topic_name}}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <p>
                  Comments:{{topic_goal.extra_data['comments']}} Start date:{{topic_goal.extra_data['start_date'] | date: 'MM/dd/yy'}} End date:{{topic_goal.extra_data['end_date'] | date: 'MM/dd/yy'}} Expected date:{{topic_goal.extra_data['expectation'] | date: 'MM/dd/yy'}} Followup date:{{topic_goal.extra_data['follow_up_date'] | date: 'MM/dd/yy'}}</p>
              </mat-expansion-panel>
            </mat-accordion>
            <mat-slide-toggle [(ngModel)]="topic_goal_end_date[topic_goal.topic_id]"></mat-slide-toggle>
          </div>
          <br/>
        </div>
      </div>
      <div *ngIf="tasks">
        <md-card-header>
          <md-card-title class="cardtitle">Tasks</md-card-title>
        </md-card-header>
        <div class="start-card" style="width: 75%;">
          <div fxFlex="23" *ngFor="let topic_task of checkin_topic_task |unique:'topic_name'">
            <mat-accordion>
              <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    {{topic_task.topic_name}}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <p>
                  Comments:{{topic_task.extra_data['comments']}} Start date:{{topic_task.extra_data['start_date'] | date: 'MM/dd/yy'}} End date:{{topic_task.extra_data['end_date'] | date: 'MM/dd/yy'}} Expected date:{{topic_task.extra_data['expectation'] | date: 'MM/dd/yy'}} Followup date:{{topic_task.extra_data['follow_up_date'] | date: 'MM/dd/yy'}}</p>
              </mat-expansion-panel>
            </mat-accordion>
            <mat-slide-toggle [(ngModel)]="topic_task_end_date[topic_task.topic_id]"></mat-slide-toggle>
          </div>
          <br/>
        </div>
      </div>
      <div *ngIf="assessment">
        <md-card-header>
          <md-card-title class="cardtitle">Assessment</md-card-title>
        </md-card-header>
        <div class="start-card">
          Employee is currently meeting all individual standards/goals for their position
          <mat-radio-group [(ngModel)]="individual_standards">
            <mat-radio-button style="padding: 29px;" value="1">Yes</mat-radio-button>
            <mat-radio-button style="padding: 29px;" value="0">No</mat-radio-button>
          </mat-radio-group>
        </div>
        <div class="start-card">
          Impact of employee's performance on customers, team and company
          <textarea matInput placeholder="Comments" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" style="border: 1px solid #ccc;" [(ngModel)]="employee_performance">
          </textarea>
        </div>
        <div class="start-card">
          Based on their performance, employee is ready for additional responsibility
          <mat-radio-group [(ngModel)]="additional_responsibility">
            <mat-radio-button style="padding: 29px;" value="1">Yes</mat-radio-button>
            <mat-radio-button style="padding: 29px;" value="0">No</mat-radio-button>
          </mat-radio-group>
          <div *ngIf="additional_responsibility==1">
            Complete Growth Plan
            <textarea matInput placeholder="Comments" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" style="border: 1px solid #ccc;" [(ngModel)]="complete_growth_plan">
            </textarea>
          </div>
        </div>
      </div>
      <div>
        <md-card-header>
          <md-card-title class="cardtitle">Notes</md-card-title>
        </md-card-header>
        <div class="start-card">
          Manager Input & Expectations
          <textarea matInput placeholder="Comments" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" style="border: 1px solid #ccc;" [(ngModel)]="manager_notes">
          </textarea>
        </div>
        <div class="start-card">
          Employee Input
          <textarea matInput placeholder="Comments" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" style="border: 1px solid #ccc;" [(ngModel)]="employee_notes">
          </textarea>
        </div>
      </div>
      <div fxLayout="row">
        <button mat-raised-button class="save-button" aria-label="SAVE" (click)="backButton()" style="margin-left: 30%;">Back</button>
        <button mat-raised-button class="save-button mat-accent" aria-label="SAVE" (click)="recapSubmit(1)" style="background-color:#8bd94c;">
          Next
        </button>
        <button mat-raised-button class="save-button mat-accent" aria-label="SAVE" (click)="recapSubmit(0)" style="background-color:#8bd94c;">
          Save as draft
        </button>
      </div>
    </mat-card>
  </div> -->
  <!-- <div *ngIf="current_stage==4">
    <div class="card-preview">
      <div class="fuse-card">
        <div class="p-16">
          <div class="h1">Summary</div>
          <div class="h4 secondary-text">{{recap_details.recap_date | date: 'MM/dd/yy'}}</div>
        </div>
        <div class="p-16 pt-0 line-height-1.75">
          <p mat-line *ngIf="recap_details.goal_achieved==1; else elsegoals;">Goals Achieved : Yes </p>
          <ng-template #elsegoals>
            <p mat-line>Goals Achieved : No</p>
          </ng-template>
          <p mat-line *ngIf="recap_details.Individual_standards==1; else elsegoals;">Individual standards : Yes </p>
          <ng-template #elsegoals>
            <p mat-line>individual standards : No</p>
          </ng-template>
          <p mat-line *ngIf="recap_details.additional_responsibility==1; else elsegoals;">Additional responsibility : Yes </p>
          <ng-template #elsegoals>
            <p mat-line>Additional responsibility : No</p>
          </ng-template>
          <p mat-line>Performance: {{recap_details.member_performance}} </p>
          <p mat-line>Employee Note: {{recap_details.creator_note}} </p>
          <p mat-line>My Note: {{recap_details.member_note}} </p>
        </div>
      </div>
    </div>
    <mat-list>
      <h4 mat-line>strength</h4>
      <h3 mat-subheader>Recap Time Period</h3>
      <mat-list-item *ngFor="let topic of strength_recap">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
      <h3 mat-subheader>Lifetime</h3>
      <mat-list-item *ngFor="let topic of strength_lifetime">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
      <mat-divider></mat-divider>
      <h4 mat-line>Oppurtunity</h4>
      <h3 mat-subheader>Recap Time Period</h3>
      <mat-list-item *ngFor="let topic of oppurtunity_recap">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
      <h3 mat-subheader>Lifetime</h3>
      <mat-list-item *ngFor="let topic of oppurtunity_lifetime">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
      <mat-divider></mat-divider>
      <h4 mat-line>Goal</h4>
      <h3 mat-subheader>Completed</h3>
      <mat-list-item *ngFor="let topic of completed_goal">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
      <h3 mat-subheader>Incompleted</h3>
      <mat-list-item *ngFor="let topic of incompleted_goal">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
      <mat-divider></mat-divider>
      <h4 mat-line>Task</h4>
      <h3 mat-subheader>Completed</h3>
      <mat-list-item *ngFor="let topic of completed_task">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
      <h3 mat-subheader>Incompleted</h3>
      <mat-list-item *ngFor="let topic of incompleted_task">
        <mat-icon mat-list-icon>chevron_right</mat-icon>
        <mat-chip-list>
          <mat-chip>{{topic.Topic.topic_name}}</mat-chip>
        </mat-chip-list>
      </mat-list-item>
    </mat-list>
<div>
  For manager
  <button mat-raised-button style="background-color:#8bd94c; color: #fff" (click)="sendSummary()">Im in</button>
  For employee
  <button mat-raised-button style="background-color:#8bd94c; color: #fff" (click)="sendSummary()">Im in</button>
</div>
  </div> -->
<!-- </div> -->
